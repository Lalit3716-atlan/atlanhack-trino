import{a as l,s as n}from"./B_ORKb8L.js";import{r as i,o as d,v as o,x as e,t as c}from"./DMO6TWRG.js";const u={properties:{host:{type:"string",required:!0,default:"",ui:{widget:"text",label:"Host",placeholder:"[database-identifier].[unqiue-identifier].[aws-region].rds.amazonaws.com",feedback:!0,help:"Hostname or IP address of the database server.",grid:8}},port:{type:"number",required:!0,default:5432,ui:{widget:"text",label:"Port",placeholder:"Port Number",feedback:!0,help:"Port number of the database server.",grid:4}},authentication:{type:"string",enum:["BASIC","IAM_USER","IAM_ROLE"],default:"BASIC",enumNames:["Basic","IAM User","IAM Role"],disabledEnum:["IAM_ROLE","IAM_USER"],ui:{widget:"radio",hidden:!1,label:"Authentication",grid:12,rules:[{required:!0,message:"Please select a valid authentication method"}]}},user:{type:"string",required:!0,default:"postgres",ui:{widget:"text",label:"Username",placeholder:"Username",feedback:!0,help:"Username to connect to the database.",grid:6}},password:{type:"string",required:!0,default:"",ui:{widget:"password",label:"Password",placeholder:"Password",feedback:!0,help:"Password to connect to the database.",grid:6}},database:{type:"string",default:"postgres",required:!0,grid:6,ui:{widget:"text",label:"Database",placeholder:"Database Name",feedback:!0,grid:6,help:"Name of the database to connect to. Defaults to 'postgres'."}},"test-connection":{type:"string",required:!1,ui:{widget:"button",label:"Test Connection"}},"cloud-provider":{ui:{widget:"CloudProvider",hidden:!0}},credential_guid:{type:"string",required:!0,ui:{widget:"credential",label:"",credentialType:"atlan-connectors-postgres",placeholder:"Credential Guid",hidden:!0}},connection:{type:"string",required:!0,ui:{widget:"string",label:"Connection Name",placeholder:"Connection Name",grid:6,help:"Name of your connection which represents your source environment. Example - 'production', 'development', 'gold', 'analytics'",prefix:{type:"image",src:"https://www.postgresql.org/media/img/about/press/elephant.png"}}},publish_mode:{type:"string",enum:["production","test","dev"],default:"production",enumNames:["Production","Test","Development"],ui:{widget:"select",label:"Run Mode",grid:4,placeholder:"Connection Mode"}},temp_table_regex:{type:"string",required:!1,default:"",ui:{widget:"text",label:"Exclude regex for tables & views",feedback:!0,help:"Regex of tables & views to ignore. Defaults to empty string",placeholder:".*_TMP|.*_TEMP|TMP.*|TEMP.*",grid:6}},include_filter:{type:"object",additionalProperties:{type:"array"},ui:{widget:"sqltree",sql:"show atlan schemas",credential:"credential-guid",schemaExcludePattern:["pg_*","information_*"],label:"Include Metadata",help:"Only the selected databases and schemas will be extracted. Exclude gets preference over include for common databases and schemas, if present, in the config.",grid:6,placeholder:"Select databases and schemas"}},exclude_filter:{type:"object",additionalProperties:{type:"array"},ui:{widget:"sqltree",sql:"show atlan schemas",credential:"credential-guid",schemaExcludePattern:["pg_*","information_*"],label:"Exclude Metadata",help:"Selected databases and schemas wont be extracted.",grid:6,placeholder:"Select databases and schemas"}},use_source_schema_filtering:{type:"string",enum:["true","false"],default:"false",enumNames:["True","False"],disabledEnum:["false"],ui:{widget:"radio",label:"Enable Source Level Filtering",help:"Enable or Disable Schema Level Filtering on source. Schemas selected in the include filter will be fetched.",hidden:!1}},use_jdbc_internal_methods:{type:"string",enum:["true","false"],default:"true",enumNames:["True","False"],disabledEnum:["false"],ui:{widget:"radio",label:"Use JDBC Internal Methods",help:"Enable or Disable JDBC internal methods for data extraction.",hidden:!0}},advanced_config_strategy:{type:"string",enum:["default","custom"],default:"default",required:!0,enumNames:["Default","Custom"],disabledEnum:["custom"],ui:{widget:"radio",hidden:!1,label:"Advanced Config",help:"Controls custom experimental features for the crawler",placeholder:"Advanced Config",rules:[{required:!0,message:"Please select a valid configuration"}]}},"extraction-method":{type:"string",enum:["direct","s3"],default:"direct",enumNames:["Direct","Offline"],disabledEnum:["s3"],ui:{widget:"radio",hidden:!1,label:"Extraction method",help:"Determines the method the package will use to extract metadata. 'Direct' means package will directly connect to the database. 'Offline' means package will fetch metadata from bucket.",placeholder:"Direct",rules:[{required:!0,message:"Please select a valid metadata extraction strategy"}]}},"preflight-check":{type:"string",ui:{widget:"sage",label:"Preflight Check",config:[{id:1,name:"databaseSchemaCheck",extraUrlParam:"",optional:!1,title:"Databases and schemas",loaderText:"Checking databases/schemas permissions"},{id:2,name:"tablesCheck",extraUrlParam:"",optional:!1,title:"Tables",loaderText:"Checking tables"}],grid:12}},"preflight-check-s3":{type:"string",ui:{widget:"sage",config:[{id:1,name:"S3Check",extraUrlParam:"",optional:!1,title:"Bucket credentials",loaderText:"Checking bucket credentials"}]}},"metadata-s3-bucket":{type:"string",required:!0,default:"",ui:{hidden:!1,label:"Bucket Name",placeholder:"my_bucket_name",feedback:!0,help:"Name of the bucket/storage that contains the extracted metadata files.",grid:4}},"metadata-s3-prefix":{type:"string",required:!0,ui:{hidden:!1,label:"Bucket Prefix",placeholder:"path_to_file",feedback:!0,help:"The prefix is everything after the bucket/storage name, including the `path`.",grid:4,rules:[{required:!0,message:"Please enter a valid bucket prefix"}]}},"metadata-s3-region":{type:"string",required:!1,default:"",ui:{hidden:!1,label:"Azure Storage Account",placeholder:"region_name",feedback:!0,help:"The name azure storage account name (if applicable).",grid:4}},"blob-sas-token":{type:"string",required:!1,default:"",ui:{hidden:!0,label:"Blob SAS Token",placeholder:"sas_token",feedback:!0,help:"SAS Token for blob. This is required for external azure blob",grid:4}}},steps:[{id:"credential",title:"Credential",description:"Credential Details",properties:["extraction-method","host","port","authentication","user","password","database","test-connection"]},{id:"connection",title:"Connection",description:"Connection Details",properties:["connection"]},{id:"metadata",title:"Metadata",description:"Metadata",properties:["exclude_filter","include_filter","temp_table_regex","advanced_config_strategy","use_source_schema_filtering","use_jdbc_internal_methods","preflight-check"]}],ui:{label:"Postgres Assets",publishedBy:"Atlan",type:"CONNECTOR",version:"0.0.1",description:"Package to crawl PostgreSQL assets and publish to Atlan for discovery",documentation:{title:"Postgres Assets Docs",link:"https://ask.atlan.com/hc/en-us/articles/6329557275793-How-to-crawl-PostgreSQL"},icon:"https://www.postgresql.org/media/img/about/press/elephant.png"}},p={class:"flex w-full h-full"},h={class:"leftContainer"},g={id:"app",class:"flex flex-col basis-full"},m=e("div",{class:"flex items-center justify-between max-w-[896px] min-w-[896px] m-auto my-4"},[e("div",{class:"flex items-center"},[e("img",{src:"https://www.postgresql.org/media/img/about/press/elephant.png",alt:"PostgreSQL",class:"w-10 h-10"}),e("h1",{class:"ml-4 text-4xl font-bold text-slate-900"}," PostgreSQL Assets ")]),e("div",{class:"flex items-center"},[e("button",{class:"w-10 h-10 p-2 text-white bg-white rounded-md shadow hover:border-blue-500 hover:shadow-lg",onclick:"window.open('https://ask.atlan.com/hc/en-us/articles/6329557275793-How-to-crawl-PostgreSQL', '_blank')"},[e("img",{src:"https://assets.atlan.com/assets/file-doc.svg",alt:"Docs",class:"w-6 h-6"})])])],-1),x={__name:"index",setup(f){const t=i(null),a=i(null);return d(()=>{if(t.value&&a.value){const{FormBuilder:r}=n,s={api:l,config:u,container:t.value,navigationContainer:a.value};new r(s).render()}}),(r,s)=>(c(),o("div",p,[e("div",h,[e("div",g,[m,e("div",{ref_key:"formContainer",ref:t,class:"basis-3/4"},null,512),e("div",{ref_key:"navigationContainer",ref:a,class:"bg-white border-t border-solid border-slate-200"},null,512)])])]))}};export{x as default};
